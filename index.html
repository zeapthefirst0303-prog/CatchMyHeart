<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catch My Heart 2026</title>
<style>
body, html {
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #ff9a9e, #fad0c4);
  height: 100vh;
  overflow: hidden;
  text-align: center;
}

.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

button {
  padding: 12px 25px;
  font-size: 18px;
  border: none;
  border-radius: 25px;
  background: white;
  color: #ff4d6d;
  font-weight: bold;
  margin-top: 20px;
  cursor: pointer;
  position: relative;
}

#basket {
  position: absolute;
  bottom: 20px;
  font-size: 50px;
}

.heart, .brokenHeart {
  position: absolute;
  font-size: 30px;
  animation: float 0.8s infinite alternate;
}

@keyframes float {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(5px) rotate(15deg); }
  100% { transform: translateY(0px) rotate(-15deg); }
}

#slider {
  width: 250px;
  margin-top: 20px;
}

#herName {
  margin-bottom: 25px;
  padding: 0 20px;
}

#messageBox, #valentineBox {
  width: 80%;
  max-height: 60%;
  padding: 20px;
  background: rgba(255,255,255,0.3);
  border-radius: 20px;
  font-size: 18px;
  line-height: 1.5;
  transform: translateY(100%);
  transition: transform 1s ease;
}

#messageBox.show, #valentineBox.show {
  transform: translateY(0);
}

#valentineButtons {
  display: flex;
  gap: 30px;
  margin-top: 20px;
  position: relative;
  align-items: center;
}
</style>
</head>
<body>

<!-- START SCREEN -->
<div id="startScreen" class="screen">
  <h2>ğŸ’˜ Catch My Heart ğŸ’˜</h2>
  <p>
    Move the basket ğŸ§º using your finger.<br>
    Catch 15 hearts â¤ï¸ to unlock a surprise.<br>
    Avoid broken hearts ğŸ’” (3 = game over).
  </p>
  <button id="playBtn">Play</button>
</div>

<!-- GAME AREA -->
<div id="gameArea" class="screen" style="display:none;">
  <div id="score">Hearts: 0 â¤ï¸ | Broken: 0 ğŸ’”</div>
  <div id="basket">ğŸ§º</div>
</div>

<!-- GAME OVER -->
<div id="gameOverScreen" class="screen" style="display:none;">
  <h2>ğŸ’” You broke my heart ğŸ’”</h2>
  <button onclick="retryGame()">Retry</button>
  <p>(redeem yourself, hon)</p>
</div>

<!-- NAME SCREEN -->
<div id="nameScreen" class="screen" style="display:none;">
  <h1 id="herName">AsminğŸ˜˜â£ï¸</h1>
  <p>Slide to unlock my heart â¤ï¸</p>
  <input type="range" min="0" max="100" value="0" id="slider">
</div>

<!-- MESSAGE SCREEN -->
<div id="messageScreen" class="screen" style="display:none;">
  <h2>â¤ï¸ Kulay akn â¤ï¸</h2>
  <div id="messageBox">
    <p>
      From the very beginning i layed my eyes on you, youâ€™ve been the most beautiful part of my life and i wish you're my last. 
      No matter what happens, no matter how hard things get,
      I promise, Matan ko allah I will always stand by your side.

      Through every smile, every tear, every challenge â€”
      I choose you and only you. 

      You are my comfort, my happiness, my safe place, my beloved wife
      ILOVEYOUSOMUCH!!!more than words can explain.

      And no matter what happens in this world, even if everyone turn their backs at you. 
      I will always be here for you.
      Always.
      â¤ï¸
    </p>
    <button id="nextButton">Next</button>
  </div>
</div>

<!-- VALENTINE SCREEN -->
<div id="valentineScreen" class="screen" style="display:none;">
  <h2>ğŸ’– Will you be my Valentine forever and ever? ğŸ’–</h2>
  <div id="valentineBox" class="screen">
    <p>Stay being my beloved wife â¤ï¸</p>
    <div id="valentineButtons">
      <button id="yes1">Yes</button>
      <button id="yes2">Yes</button>
    </div>
  </div>
</div>

<!-- MUSIC -->
<audio id="bgMusic" src="https://zeapthefirst0303-prog.github.io/CatchMyHeart/lofi-love.mp3" loop></audio>

<script>
const HER_NAME = "Asmin ğŸ˜˜â¤ï¸";
let score = 0, brokenCaught = 0, gameStarted = false, heartInterval;

const basket = document.getElementById("basket");
const gameArea = document.getElementById("gameArea");
const startScreen = document.getElementById("startScreen");
const nameScreen = document.getElementById("nameScreen");
const messageScreen = document.getElementById("messageScreen");
const messageBox = document.getElementById("messageBox");
const valentineScreen = document.getElementById("valentineScreen");
const scoreDisplay = document.getElementById("score");
const bgMusic = document.getElementById("bgMusic");
const gameOverScreen = document.getElementById("gameOverScreen");

document.getElementById("herName").innerText = HER_NAME;
basket.style.left = window.innerWidth/2 + "px";

  // START BUTTON
document.getElementById("playBtn").addEventListener("click", () => {
    startGame();
    // Start music on first click
    if(bgMusic && bgMusic.paused){
        bgMusic.play().catch(e => console.log("Autoplay blocked, will play on user interaction."));
    }
});

function startGame() {
    // Hide all screens except game
    startScreen.style.display = "none";
    gameOverScreen.style.display = "none";
    nameScreen.style.display = "none";
    messageScreen.style.display = "none";
    valentineScreen.style.display = "none";
    gameArea.style.display = "block";

    // Reset game variables
    score = 0;
    brokenCaught = 0;
    gameStarted = true;
    updateScoreDisplay();

    // Remove any existing hearts
    document.querySelectorAll('.heart, .brokenHeart').forEach(h => h.remove());

    // Start falling hearts
    clearInterval(heartInterval);
    heartInterval = setInterval(createHeart, 400); // adjust heart speed here
}

// RETRY
function retryGame() { startGame(); }

// MOVE BASKET
document.addEventListener("touchmove", e => {
    if(gameStarted) basket.style.left = e.touches[0].clientX - 25 + "px";
});
document.addEventListener("mousemove", e => {
    if(gameStarted) basket.style.left = e.clientX - 25 + "px";
});

// UPDATE COUNTER
function updateScoreDisplay() {
    scoreDisplay.innerText = `Hearts: ${score} â¤ï¸ | Broken: ${brokenCaught} ğŸ’”`;
}

// CREATE FALLING HEARTS
function createHeart() {
    if(!gameStarted) return;

    let isBroken = Math.random() < 0.2;
    let heart = document.createElement("div");
    heart.className = isBroken ? "brokenHeart" : "heart";
    heart.innerHTML = isBroken ? "ğŸ’”" : "â¤ï¸";
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.top = "0px";
    document.body.appendChild(heart);

    let fall = setInterval(() => {
        heart.style.top = heart.offsetTop + (isBroken ? 6 : 5) + "px";

        // Check collision with basket
        if(heart.offsetTop > window.innerHeight - 100 &&
           heart.offsetLeft < basket.offsetLeft + 50 &&
           heart.offsetLeft > basket.offsetLeft - 20) {

            if(isBroken) {
                brokenCaught++;
                updateScoreDisplay();
                if(brokenCaught >= 3){
                    gameStarted = false;
                    clearInterval(heartInterval);
                    document.querySelectorAll('.heart,.brokenHeart').forEach(h => h.remove());
                    gameArea.style.display = "none";
                    gameOverScreen.style.display = "flex";
                }
            } else {
                score++;
                updateScoreDisplay();
                if(score >= 15){
                    gameStarted = false;
                    clearInterval(heartInterval);
                    document.querySelectorAll('.heart,.brokenHeart').forEach(h => h.remove());
                    gameArea.style.display = "none";
                    nameScreen.style.display = "flex";
                }
            }

            heart.remove();
            clearInterval(fall);
        }

        if(heart.offsetTop > window.innerHeight){
            heart.remove();
            clearInterval(fall);
        }
    }, 15);
}

// SLIDER TO REVEAL MESSAGE
document.getElementById("slider").addEventListener("input", function(){
  if(this.value>=100){ nameScreen.style.display="none"; messageScreen.style.display="flex"; setTimeout(()=>{ messageBox.classList.add("show");},100);}
});

// NEXT BUTTON
document.getElementById("nextButton").addEventListener("click", ()=>{
  messageScreen.style.display="none"; valentineScreen.style.display="flex"; document.getElementById("valentineBox").classList.add("show");
});

// YES BUTTONS
document.getElementById("yes1").addEventListener("click", celebrateYes);
document.getElementById("yes2").addEventListener("click", celebrateYes);

function cvalentineScreen.innerHTML = "<h2>ğŸ‰ Yehey! No take backs ok? ILOVEYOUSOMUCH!!â¤ï¸ğŸ’–</h2>";
  startConfetti();
}

// CONFETTI
function startConfetti(){
  for(let i=0;i<15;i++){
    let confetti = document.createElement("div");
    confetti.style.position="absolute";
    confetti.style.width="8px";
    confetti.style.height="8px";
    confetti.style.background=["#FF5E5E","#FFD93D","#6BCB77","#4D96FF"][Math.floor(Math.random()*4)];
    confetti.style.top="0"; confetti.style.left=Math.random()*window.innerWidth+"px";
    confetti.style.opacity=0.8; confetti.style.borderRadius="50%"; confetti.style.zIndex="1000";
    document.body.appendChild(confetti);
    let fall = setInterval(()=>{
      confetti.style.top = (parseFloat(confetti.style.top)+Math.random()*10+2)+"px";
      confetti.style.transform = "rotate("+Math.random()*360+"deg)";
      if(parseFloat(confetti.style.top)>window.innerHeight){ confetti.remove(); clearInterval(fall);}
    },20);
  }
}
</script>
</body>
</html>
